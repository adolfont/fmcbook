\draw [rounded corners=0mm, fill=gray!10]
      (1.5,0.5)--(1.5,-0.5)--(2.5,-0.5)--(2.5,0.5)--cycle;
\draw [rounded corners=0mm, fill=gray!10]
      (-1.5,0.5)--(-1.5,-0.5)--(-2.5,-0.5)--(-2.5,0.5)--cycle;
\draw[-Latex]  (4,0)    -- (2.5,0);
\draw[-Latex]  (-2.5,0) -- (-4,0);
\node (f)   at (2,0)      {$f$};
\node (g)   at (-2,0)     {$g$};
\node (fS)  at (2.3,0.3)  {$A$};
\node (fT)  at (1.7,0.3)  {$B$};
\node (gS)  at (-1.7,0.3) {$B'$};
\node (gT)  at (-2.3,0.3) {$C$};
